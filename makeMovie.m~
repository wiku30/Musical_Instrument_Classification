function makeMovie(filename)

load('Model.mat');
[xx,fs]=audioread(filename);
xx=xx(:,1);
xx=resample(xx,44100,fs);
fs=44100;
l=round(length(xx)/4410)-10;


sound(xx,44100);




figure %新建一张图
axis off
axis([0 5 -1 6]);%定义x轴（从0到5）和y轴的范围（从0到2）
set(gcf, 'position', [0 0 600 1000]);
text(0.2,0,'Guitar','fontsize',60,'color','black');
text(0.2,1,'Sax','fontsize',60,'color','black');
text(0.2,2,'Flute','fontsize',60,'color','black');
text(0.2,3,'Piano','fontsize',60,'color','black');
text(0.2,4,'Trumpet','fontsize',60,'color','black');
text(0.2,5,'Violin','fontsize',60,'color','black');
t1=text(0.5,1,'Start','fontsize',80,'color','black');
t2=text(0.5,1,'Start','fontsize',80,'color','black');
t3=text(0.5,1,'Start','fontsize',80,'color','black');
t4=text(0.5,1,'Start','fontsize',80,'color','black');
t1=text(0.5,1,'Start','fontsize',80,'color','black');
t1=text(0.5,1,'Start','fontsize',80,'color','black');
prediction=zeros(1,l);


for i=1:l
    tic;
    vec=anal(xx,fs,i*0.1);
    pred=predict(Mdl,vec);
    prediction(1,i)=pred;
    num=zeros(1,6);
    for j=0:9
        if (i-j)>0
            num(prediction(i-j)+1)=num(prediction(i-j)+1)+1;
        end
    end
        
    delete(t);
    if pred==5
        t=text(0.5,1,'Violin','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    if pred==0
        t=text(0.5,1,'Guitar','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    if pred==2
        t=text(0.5,1,'Flute','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    if pred==1
        t=text(0.5,1,'Saxophone','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    if pred==3
        t=text(0.5,1,'Piano','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    if pred==4
        t=text(0.5,1,'Trumpet','fontsize',80,'color','black');%i=1时，写一个‘百’字
    end
    pause(0.1-toc);
end

delete(t);
end



